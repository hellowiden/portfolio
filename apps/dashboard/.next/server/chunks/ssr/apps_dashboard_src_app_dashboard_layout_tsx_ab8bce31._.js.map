{"version":3,"sources":["../../../../../../apps/dashboard/src/app/dashboard/layout.tsx"],"sourcesContent":["//src/app/dashboard/layout.tsx\n\n'use client';\n\nimport { ReactNode, useEffect } from 'react';\nimport { useSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport Link from 'next/link';\nimport Button from '@portfolio/ui/components/Button/Button';\n\nexport default function Layout({ children }: { children: ReactNode }) {\n  const { data: session, status } = useSession();\n  const router = useRouter();\n  const isAdmin = session?.user?.roles?.includes('admin') ?? false;\n\n  useEffect(() => {\n    if (status === 'unauthenticated') {\n      router.replace('/login');\n    } else if (status === 'authenticated' && !isAdmin) {\n      router.replace('/');\n    }\n  }, [status, isAdmin, router]);\n\n  if (status === 'loading') {\n    return null;\n  }\n\n  const navItems = [\n    'Dashboard',\n    'Users',\n    'Projects',\n    'Messages',\n    'Experiences',\n  ];\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-[auto_1fr] h-full bg-primary-100 text-primary-900 dark:bg-secondary-900 dark:text-secondary-50 gap-4\">\n      <aside className=\"grid grid-rows-[auto_auto_1fr] gap-4 w-full md:w-64 bg-primary-200 border-r border-primary-200 dark:bg-secondary-800 dark:border-secondary-700 p-4\">\n        <h2 className=\"text-xl font-bold\">Admin Dashboard</h2>\n        <nav className=\"grid gap-2\">\n          {navItems.map((label) => {\n            const path = label.toLowerCase();\n            const href = `/dashboard${path === 'dashboard' ? '' : `/${path}`}`;\n            return <NavItem key={label} href={href} label={label} />;\n          })}\n        </nav>\n      </aside>\n      <main className=\"p-4\">{children}</main>\n    </div>\n  );\n}\n\nconst NavItem = ({ href, label }: { href: string; label: string }) => (\n  <Link href={href}>\n    <Button\n      variant=\"secondary\"\n      size=\"sm\"\n      className=\"w-full justify-start text-left\"\n    >\n      {label}\n    </Button>\n  </Link>\n);\n"],"names":[],"mappings":"wDAIA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEe,SAAS,EAAO,UAAE,CAAQ,CAA2B,EAClE,GAAM,CAAE,KAAM,CAAO,QAAE,CAAM,CAAE,CAAG,CAAA,EAAA,EAAA,UAAA,AAAU,IACtC,EAAS,CAAA,EAAA,EAAA,SAAA,AAAS,IAClB,EAAU,GAAS,MAAM,OAAO,SAAS,WAAY,QAU3D,CARA,CAAA,EAAA,EAAA,SAAA,AAAS,EAAC,KACJ,AAAW,mBAAmB,GAChC,EAAO,OAAO,CAAC,UACK,kBAAX,CAA8B,EAAC,GACxC,EAAO,IAD0C,GACnC,CAAC,IAEnB,EAAG,CAAC,EAAQ,EAAS,EAAO,EAEb,WAAW,CAAtB,GACK,KAYP,CAAA,EAAA,EAAA,IAAA,EAAC,MAAA,CAAI,UAAU,+IACb,CAAA,EAAA,EAAA,IAAA,EAAC,QAAA,CAAM,UAAU,+JACf,CAAA,EAAA,EAAA,GAAA,EAAC,KAAA,CAAG,UAAU,6BAAoB,oBAClC,CAAA,EAAA,EAAA,GAAA,EAAC,MAAA,CAAI,UAAU,sBAZJ,AAaR,CAZP,YACA,QACA,WACA,WACA,cACD,CAOiB,GAAG,CAAC,AAAC,IACb,IAAM,EAAO,EAAM,WAAW,GACxB,EAAO,CAAC,UAAU,EAAW,cAAT,EAAuB,GAAK,CAAC,CAAC,EAAE,EAAA,CAAM,CAAA,CAAE,CAClE,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,CAAoB,KAAM,EAAM,MAAO,GAA1B,EACvB,QAGJ,CAAA,EAAA,EAAA,GAAA,EAAC,OAAA,CAAK,UAAU,eAAO,MAG7B,CAEA,IAAM,EAAU,CAAC,MAAE,CAAI,OAAE,CAAK,CAAmC,GAC/D,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAI,CAAA,CAAC,KAAM,WACV,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAM,CAAA,CACL,QAAQ,YACR,KAAK,KACL,UAAU,0CAET"}