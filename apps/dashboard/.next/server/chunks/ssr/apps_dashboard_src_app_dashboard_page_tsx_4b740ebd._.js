module.exports=[59320,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(96846);function e(){let[a,e]=(0,c.useState)({users:0,onlineUsers:0,messages:0,projects:0,experiences:0}),[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(null),k=async()=>{h(!0),j(null);try{let a=await Promise.all(["users","messages","projects","experiences"].map(a=>fetch(`/api/${a}`)));if(a.some(a=>!a.ok))throw Error("One or more API calls failed");let b=await Promise.all(a.map(a=>a.json()));e({users:b[0]?.users?.length||0,onlineUsers:b[0]?.onlineUsers||0,messages:b[1]?.messages?.length||0,projects:b[2]?.projects?.length||0,experiences:b[3]?.experiences?.length||0})}catch(a){console.error("Dashboard fetch error:",a),j("Failed to fetch stats. Try again later.")}finally{h(!1)}};return(0,c.useEffect)(()=>{k()},[]),(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"}),(0,b.jsx)("p",{className:"text-muted-foreground text-sm",children:"View system stats and refresh data as needed."})]}),(0,b.jsx)(d.default,{onClick:k,disabled:g,children:g?"Refreshing...":"Refresh Stats"})]}),i&&(0,b.jsx)("p",{className:"text-red-600 dark:text-red-400",children:i}),(0,b.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,b.jsx)(f,{title:"Users Online",value:`${a.onlineUsers}/${a.users}`,subtext:"Online / Total",highlight:!0}),(0,b.jsx)(f,{title:"Messages",value:a.messages}),(0,b.jsx)(f,{title:"Projects",value:a.projects}),(0,b.jsx)(f,{title:"Experiences",value:a.experiences})]})]})}let f=({title:a,value:c,subtext:d,highlight:e=!1})=>(0,b.jsxs)("div",{className:"bg-primary-50 dark:bg-secondary-800 border border-primary-200 dark:border-secondary-700 rounded-xl p-4 shadow-sm flex flex-col gap-1",children:[(0,b.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:a}),(0,b.jsx)("span",{className:`text-3xl font-bold ${e?"text-green-600 dark:text-green-400":""}`,children:c}),d&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:d})]});a.s(["default",()=>e])}];

//# sourceMappingURL=apps_dashboard_src_app_dashboard_page_tsx_4b740ebd._.js.map