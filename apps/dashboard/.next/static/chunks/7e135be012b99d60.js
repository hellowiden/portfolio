(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14044,e=>{"use strict";var r=e.i(43476),a=e.i(18566);let t={"/users":(e,r)=>{let{name:a,email:t,roles:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))},"/projects":(e,r)=>{let{name:a,description:t,tags:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))},"/messages":(e,r)=>{let{userName:a,userEmail:t,message:s,reason:i}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.toLowerCase().includes(r)||i?.toLowerCase().includes(r)},"/experiences":(e,r)=>{let{title:a,location:t,tags:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))}};function s({value:e,onChange:s,data:i,onFilter:o}){let n=(0,a.usePathname)();return(0,r.jsx)("input",{type:"text",placeholder:"Search...",value:e,onChange:e=>{let r,a,l,d=e.target.value;s(d),r=d.toLowerCase(),l=(a=Object.keys(t).find(e=>n.includes(e)))?t[a]:()=>!1,o(i.filter(e=>l(e,r)))},className:"border border-primary-200 dark:border-secondary-800 p-2 rounded w-1/3 bg-primary-50 dark:bg-secondary-700 text-primary-900 dark:text-secondary-50"})}e.s(["default",()=>s])},70033,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(14044),s=e.i(77957);let i={title:"",location:"",date:"",description:"",image:"",tags:[],type:"work"};function o(){let[e,o]=(0,a.useState)([]),[n,l]=(0,a.useState)([]),[d,c]=(0,a.useState)(""),[p,u]=(0,a.useState)(i),[m,x]=(0,a.useState)(null),h=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/experiences");if(!e.ok)throw Error("Error fetching experiences");let r=await e.json();o(r.experiences),l(r.experiences)}catch(e){console.error(e)}},[]);(0,a.useEffect)(()=>{h()},[h]);let y=e=>{let{name:r,value:a}=e.target;u(e=>({...e,[r]:"tags"===r?a.split(",").map(e=>e.trim()):a}))},b=async e=>{if(e.preventDefault(),!p.title)return void alert("Title is required.");try{if(!(await fetch(m?`/api/experiences/${m}`:"/api/experiences",{method:m?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(p)})).ok)throw Error("Error saving experience");u(i),x(null),await h()}catch(e){console.error(e)}},g=async e=>{if(confirm("Delete this experience?"))try{if(!(await fetch(`/api/experiences/${e}`,{method:"DELETE"})).ok)throw Error("Error deleting experience");await h()}catch(e){console.error(e)}},j="border border-primary-200 bg-primary-50 text-primary-900 rounded p-1 w-full dark:border-secondary-700 dark:bg-secondary-900 dark:text-secondary-50",f="p-2 border border-primary-200 dark:border-secondary-700";return(0,r.jsxs)("div",{className:"grid gap-6 p-4 text-primary-900 dark:text-secondary-50",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Experiences"}),(0,r.jsx)(t.default,{value:d,onChange:c,data:e,onFilter:l}),(0,r.jsxs)("form",{onSubmit:b,className:"grid gap-2 border border-primary-200 dark:border-secondary-700 p-4 rounded bg-primary-100 dark:bg-secondary-800",children:[[{label:"Title",name:"title"},{label:"Location",name:"location"},{label:"Date",name:"date"},{label:"Image URL",name:"image"},{label:"Tags (comma separated)",name:"tags"}].map(({label:e,name:a})=>(0,r.jsxs)("label",{children:[e,":",(0,r.jsx)("input",{className:j,type:"text",name:a,value:Array.isArray(p[a])?p[a].join(", "):p[a]??"",onChange:y})]},a)),(0,r.jsxs)("label",{children:["Description:",(0,r.jsx)("textarea",{className:j,name:"description",rows:3,value:p.description||"",onChange:y})]}),(0,r.jsxs)("label",{children:["Type:",(0,r.jsxs)("select",{className:j,name:"type",value:p.type,onChange:y,children:[(0,r.jsx)("option",{value:"work",children:"Work"}),(0,r.jsx)("option",{value:"education",children:"Education"})]})]}),(0,r.jsx)(s.default,{type:"submit",variant:"primary",size:"md",children:m?"Update Experience":"Create Experience"})]}),(0,r.jsxs)("table",{className:"w-full border border-primary-200 dark:border-secondary-700",children:[(0,r.jsx)("thead",{className:"bg-primary-200 dark:bg-secondary-700 text-primary-900 dark:text-secondary-50",children:(0,r.jsx)("tr",{children:["Title","Location","Date","Actions"].map(e=>(0,r.jsx)("th",{className:f,children:e},e))})}),(0,r.jsx)("tbody",{children:n.map(e=>(0,r.jsxs)("tr",{className:"border-b border-primary-200 dark:border-secondary-700",children:[(0,r.jsx)("td",{className:f,children:e.title}),(0,r.jsx)("td",{className:f,children:e.location}),(0,r.jsx)("td",{className:f,children:e.date}),(0,r.jsx)("td",{className:f,children:(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsx)(s.default,{onClick:()=>{x(e._id),u(e)},variant:"ghost",size:"sm",children:"Edit"}),(0,r.jsx)(s.default,{onClick:()=>g(e._id),variant:"danger",size:"sm",children:"Remove"})]})})]},e._id))})]})]})}e.s(["default",()=>o])}]);