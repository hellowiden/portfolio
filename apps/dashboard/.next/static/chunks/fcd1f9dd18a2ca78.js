(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76508,e=>{"use strict";var s=e.i(43476),r=e.i(71645),t=e.i(77957);function l(){let[e,l]=(0,r.useState)({users:0,onlineUsers:0,messages:0,projects:0,experiences:0}),[i,n]=(0,r.useState)(!1),[c,o]=(0,r.useState)(null),d=async()=>{n(!0),o(null);try{let e=await Promise.all(["users","messages","projects","experiences"].map(e=>fetch(`/api/${e}`)));if(e.some(e=>!e.ok))throw Error("One or more API calls failed");let s=await Promise.all(e.map(e=>e.json()));l({users:s[0]?.users?.length||0,onlineUsers:s[0]?.onlineUsers||0,messages:s[1]?.messages?.length||0,projects:s[2]?.projects?.length||0,experiences:s[3]?.experiences?.length||0})}catch(e){console.error("Dashboard fetch error:",e),o("Failed to fetch stats. Try again later.")}finally{n(!1)}};return(0,r.useEffect)(()=>{d()},[]),(0,s.jsxs)("div",{className:"space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold",children:"Dashboard Overview"}),(0,s.jsx)("p",{className:"text-muted-foreground text-sm",children:"View system stats and refresh data as needed."})]}),(0,s.jsx)(t.default,{onClick:d,disabled:i,children:i?"Refreshing...":"Refresh Stats"})]}),c&&(0,s.jsx)("p",{className:"text-red-600 dark:text-red-400",children:c}),(0,s.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,s.jsx)(a,{title:"Users Online",value:`${e.onlineUsers}/${e.users}`,subtext:"Online / Total",highlight:!0}),(0,s.jsx)(a,{title:"Messages",value:e.messages}),(0,s.jsx)(a,{title:"Projects",value:e.projects}),(0,s.jsx)(a,{title:"Experiences",value:e.experiences})]})]})}let a=({title:e,value:r,subtext:t,highlight:l=!1})=>(0,s.jsxs)("div",{className:"bg-primary-50 dark:bg-secondary-800 border border-primary-200 dark:border-secondary-700 rounded-xl p-4 shadow-sm flex flex-col gap-1",children:[(0,s.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:e}),(0,s.jsx)("span",{className:`text-3xl font-bold ${l?"text-green-600 dark:text-green-400":""}`,children:r}),t&&(0,s.jsx)("span",{className:"text-xs text-muted-foreground",children:t})]});e.s(["default",()=>l])}]);