(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,14044,e=>{"use strict";var r=e.i(43476),a=e.i(18566);let t={"/users":(e,r)=>{let{name:a,email:t,roles:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))},"/projects":(e,r)=>{let{name:a,description:t,tags:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))},"/messages":(e,r)=>{let{userName:a,userEmail:t,message:s,reason:o}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.toLowerCase().includes(r)||o?.toLowerCase().includes(r)},"/experiences":(e,r)=>{let{title:a,location:t,tags:s}=e;return a?.toLowerCase().includes(r)||t?.toLowerCase().includes(r)||s?.some(e=>e.toLowerCase().includes(r))}};function s({value:e,onChange:s,data:o,onFilter:d}){let i=(0,a.usePathname)();return(0,r.jsx)("input",{type:"text",placeholder:"Search...",value:e,onChange:e=>{let r,a,n,l=e.target.value;s(l),r=l.toLowerCase(),n=(a=Object.keys(t).find(e=>i.includes(e)))?t[a]:()=>!1,d(o.filter(e=>n(e,r)))},className:"border border-primary-200 dark:border-secondary-800 p-2 rounded w-1/3 bg-primary-50 dark:bg-secondary-700 text-primary-900 dark:text-secondary-50"})}e.s(["default",()=>s])},512,e=>{"use strict";var r=e.i(43476),a=e.i(71645),t=e.i(14044),s=e.i(77957);let o={name:"",link:"",createdAt:"",completedAt:"",description:"",image:"",tags:[]};function d(){let[e,d]=(0,a.useState)([]),[i,n]=(0,a.useState)([]),[l,c]=(0,a.useState)(""),[m,p]=(0,a.useState)(o),[u,h]=(0,a.useState)(null),b=(0,a.useCallback)(async()=>{try{let e=await fetch("/api/projects");if(!e.ok)throw Error("Error fetching projects");let r=(await e.json()).projects.sort((e,r)=>new Date(r.createdAt).getTime()-new Date(e.createdAt).getTime());d(r),n(r)}catch(e){console.error(e)}},[]);(0,a.useEffect)(()=>{b()},[b]);let y=e=>{let{name:r,value:a}=e.target;p(e=>({...e,[r]:"tags"===r?a.split(",").map(e=>e.trim()):a}))},j=async e=>{e.preventDefault();let{name:r,createdAt:a,description:t}=m;if(!r||!a||!t)return void alert("Name, createdAt, and description are required.");try{if(!(await fetch(u?`/api/projects/${u}`:"/api/projects",{method:u?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(m)})).ok)throw Error("Error saving project");p(o),h(null),await b()}catch(e){console.error(e)}},g=async e=>{if(confirm("Delete this project?"))try{if(!(await fetch(`/api/projects/${e}`,{method:"DELETE"})).ok)throw Error("Error deleting project");await b()}catch(e){console.error(e)}},x="border border-primary-200 rounded p-1 w-full bg-primary-50 text-primary-900 dark:bg-secondary-900 dark:text-secondary-50 dark:border-secondary-700",f="p-2 border border-primary-200 dark:border-secondary-700";return(0,r.jsxs)("div",{className:"grid gap-6 p-4 text-primary-900 dark:text-secondary-50",children:[(0,r.jsx)("h1",{className:"text-2xl font-bold",children:"Manage Projects"}),(0,r.jsx)(t.default,{value:l,onChange:c,data:e,onFilter:n}),(0,r.jsxs)("form",{onSubmit:j,className:"grid gap-2 p-4 rounded-md border border-primary-200 bg-primary-100 dark:border-secondary-700 dark:bg-secondary-800",children:[[{label:"Name",name:"name"},{label:"Link",name:"link"},{label:"Created At",name:"createdAt"},{label:"Completed At",name:"completedAt"},{label:"Image URL",name:"image"},{label:"Tags (comma separated)",name:"tags"}].map(({label:e,name:a})=>(0,r.jsxs)("label",{children:[e,":",(0,r.jsx)("input",{className:x,type:"text",name:a,value:Array.isArray(m[a])?m[a].join(", "):m[a]??"",onChange:y})]},a)),(0,r.jsxs)("label",{children:["Description:",(0,r.jsx)("textarea",{className:x,name:"description",rows:3,value:m.description||"",onChange:y})]}),(0,r.jsx)(s.default,{type:"submit",variant:"primary",size:"md",children:u?"Update Project":"Create Project"})]}),(0,r.jsxs)("table",{className:"w-full rounded border border-primary-200 dark:border-secondary-700",children:[(0,r.jsx)("thead",{className:"bg-primary-200 dark:bg-secondary-700 text-primary-900 dark:text-secondary-50",children:(0,r.jsx)("tr",{children:["Name","Link","Created At","Completed At","Actions"].map(e=>(0,r.jsx)("th",{className:f,children:e},e))})}),(0,r.jsx)("tbody",{children:i.map(e=>(0,r.jsxs)("tr",{className:"border-b",children:[(0,r.jsx)("td",{className:f,children:e.name}),(0,r.jsx)("td",{className:f,children:e.link}),(0,r.jsx)("td",{className:f,children:e.createdAt}),(0,r.jsx)("td",{className:f,children:e.completedAt||"Ongoing"}),(0,r.jsxs)("td",{className:`${f} flex gap-2`,children:[(0,r.jsx)(s.default,{onClick:()=>{h(e._id),p(e)},variant:"ghost",size:"sm",children:"Edit"}),(0,r.jsx)(s.default,{onClick:()=>g(e._id),variant:"danger",size:"sm",children:"Remove"})]})]},e._id))})]})]})}e.s(["default",()=>d])}]);