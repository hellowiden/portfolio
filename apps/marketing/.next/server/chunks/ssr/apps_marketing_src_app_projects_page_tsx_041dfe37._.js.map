{"version":3,"sources":["../../../../../../apps/marketing/src/app/projects/page.tsx"],"sourcesContent":["// src/app/projects/page.tsx\n\n'use client';\n\nimport { useEffect, useState } from 'react';\nimport { useRouter } from 'next/navigation';\nimport Button from '@portfolio/ui/components/Button/Button';\n\ninterface Project {\n  _id: string;\n  name: string;\n  createdAt: string;\n  completedAt?: string;\n  tags?: string[];\n  link?: string;\n  image?: string;\n  description?: string;\n}\n\nexport default function ProjectsPage() {\n  const [projects, setProjects] = useState<Project[]>([]);\n  const [loading, setLoading] = useState(true);\n  const router = useRouter();\n\n  useEffect(() => {\n    async function fetchProjects() {\n      try {\n        const res = await fetch('/api/projects');\n        if (!res.ok) throw new Error('Failed to fetch projects');\n        const data = await res.json();\n        setProjects(data.projects);\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    }\n    fetchProjects();\n  }, []);\n\n  const sortedProjects = [...projects].sort((a, b) => {\n    const dateA = a.completedAt\n      ? new Date(a.completedAt.split('-').reverse().join('-')).getTime()\n      : 0;\n    const dateB = b.completedAt\n      ? new Date(b.completedAt.split('-').reverse().join('-')).getTime()\n      : 0;\n    return (\n      dateB - dateA ||\n      new Date(b.createdAt.split('-').reverse().join('-')).getTime() -\n        new Date(a.createdAt.split('-').reverse().join('-')).getTime()\n    );\n  });\n\n  const extractFirstSentence = (text: string) => {\n    const match = text.match(/.*?[.?!](\\s|$)/);\n    return match ? match[0].trim() : text;\n  };\n\n  return (\n    <section className=\"grid gap-6\">\n      <p className=\"text-base text-primary-900 dark:text-secondary-50\">\n        <strong className=\"font-semibold\">Note:</strong> Due to strict NDAs, I\n        cannot disclose specifics of past projects. However, Iâ€™ve learned my\n        lesson and moving forward, all relevant opportunities will be displayed\n        here.\n      </p>\n\n      {loading ? (\n        <div className=\"grid place-items-center h-32\">\n          <Button\n            disabled\n            variant=\"ghost\"\n            size=\"sm\"\n            className=\"h-12 w-12 p-0 animate-spin rounded-full border-4 border-t-transparent border-primary-900 dark:border-secondary-700\"\n          >\n            &nbsp;\n          </Button>\n        </div>\n      ) : (\n        <div className=\"grid gap-6 md:grid-cols-2 lg:grid-cols-3\">\n          {sortedProjects.map((project) => (\n            <section\n              key={project._id}\n              onClick={() => router.push(`/projects/${project._id}`)}\n              role=\"button\"\n              tabIndex={0}\n              className=\"grid gap-3 p-6 w-full h-full bg-white dark:bg-secondary-800 text-primary-900 dark:text-secondary-50 border border-primary-200 dark:border-secondary-700 rounded-md cursor-pointer hover:shadow-md hover:ring-1 hover:ring-primary-300 dark:hover:ring-offset-2 hover:ring-offset-2 transition-shadow\"\n            >\n              <div className=\"grid grid-cols-[1fr_auto] items-start gap-2\">\n                <h2 className=\"text-lg font-bold tracking-tight\">\n                  {project.name}\n                </h2>\n\n                <div className=\"md:hidden\">\n                  <Button\n                    variant=\"ghost\"\n                    size=\"sm\"\n                    onClick={(e) => {\n                      e.stopPropagation();\n                      router.push(`/projects/${project._id}`);\n                    }}\n                    className=\"p-2 text-sm\"\n                  >\n                    View\n                  </Button>\n                </div>\n              </div>\n\n              {project.tags && (\n                <div className=\"flex gap-2 flex-wrap\">\n                  {project.tags.map((tag, index) => (\n                    <span\n                      key={index}\n                      className=\"bg-primary-200 text-primary-900 dark:bg-secondary-700 dark:text-secondary-50 text-xs px-2 py-0.5 rounded\"\n                    >\n                      {tag}\n                    </span>\n                  ))}\n                </div>\n              )}\n\n              {project.description && (\n                <p className=\"text-sm opacity-80 tracking-wide leading-snug max-w-prose\">\n                  {extractFirstSentence(project.description)}\n                </p>\n              )}\n            </section>\n          ))}\n        </div>\n      )}\n    </section>\n  );\n}\n"],"names":[],"mappings":"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"}